{% extends "base_DXcator.html" %}
{% import 'bootstrap/wtf.html' as wtf %}


{% block app_content %}



<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/tutorial.css') }}">

<style>
    .AC {
        background-color: #ccffa6;
    }
    .AR {
        background-color: #ebffdb;
    }
    .US {
        background-color: #dbdbdb;
    }
    .RR {
        background-color: #ffdede;
    }
    .RE {
        background-color: #ffb0b0;
    }
    .SE {
        background-color: #b8c8ff;
    }
    .SR {
        background-color: #d9e1ff;
    }
    .IP {
        background-color: #fffcd9;
    }
    .NA {
        background-color: #ffffff;
    }
    .ui-helper-center {
        text-align: center;
    }

    td {
        word-wrap: break-word;         /* All browsers since IE 5.5+ */
        overflow-wrap: break-word;     /* Renamed property in CSS3 draft spec */
    }

    table {
        width: 100%;
        table-layout: fixed;
    }


</style>


<div class="fadeMe" id="outer-CASE0">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    This is the first results page: you can navigate your results per <stream style="color: red; font-weight: bold;">sample</stream>
    <br>
    <br>
    <div class="list">
      - the <stream id="programming" style="color: white; background: #4C4C4C">known P/LP</stream> column indicates variants previously flagged as P/LP by other users
    </div>
    <div class="list">
      - the <stream id="programming" style="color: white; background: #4C4C4C">P/LP variants</stream> column indicates variants flagged as P/LP by Diagnosticator algorithm
    </div>
    <div class="list">
      - the <stream id="programming" style="color: white; background: #4C4C4C">tot variants</stream> column indicates the total number of variants identified for that sample
    </div>
    <br>
    Let's have a look at the first case:
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-0')}}"><button class="btn btn-info">CASE-0</button></a>
    <br>
    <br>
      <div style="border: 0px solid red; height: 90px;">
        <div style="border: 0px solid green; height: 60px; width: 600px; display: inline-block; margin-top: 2%;">
          <stream style="font-size: 80%; color: #505050;">note: through the tutorial, pulsing buttons indicates where you have to click: like </stream>
        </div>
        <div style="border: 0px solid blue; height: 60px; width: 90px; display: inline-block;">
          <button type="button" class="btn btn-info" style="  animation-name: increase; animation-duration: 2s; animation-iteration-count: infinite;">this</button>
        </div>
    </div>
  </div>
</div>

<div class="fadeMe" id="outer-CASE0_STATUS">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Don't forget to flag
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-0')}}"><button class="btn btn-info">CASE-0</button></a>
    as Diagnostic Finding!
  </div>
</div>

<div class="fadeMe" id="outer-CASE1">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Great job! You should see how
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-0')}}"><button class="btn btn-info">CASE-0</button></a>
    row is higlithed in green now!
    <br>
    Let's have a look at the second case:
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-1')}}"><button class="btn btn-info">CASE-1</button></a>
  </div>
</div>

<div class="fadeMe" id="outer-CASE1_STATUS">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Don't forget to flag
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-1')}}"><button class="btn btn-info">CASE-1</button></a>
    as Diagnostic Finding!
  </div>
</div>

<div class="fadeMe" id="outer-CASE3">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Let's skip
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-2')}}"><button class="btn btn-info">CASE-2</button></a>
    for the moment (in which you can see the TTC37 variant
    <br>
    you previously flagged as
    <button class="btn btn-success" style="opacity: 0.7;">Diagnostic Finding (temporary)</button>
    if you open the page &#128526)
    <br>
    <br>
    Have a look at:
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-3')}}"><button class="btn btn-info">CASE-3</button></a>
  </div>
</div>

<div class="fadeMe" id="outer-CASE3_STATUS">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Don't forget to flag
    <a href="{{ url_for('main.patient_page', sample_name = 'CASE-3')}}"><button class="btn btn-info">CASE-3</button></a>
    as Diagnostic Finding!
  </div>
</div>

<div class="fadeMe" id="outer-CONTROL0">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Let's review a control now:
    <a href="{{ url_for('main.patient_page', sample_name = 'CONTROL-0')}}"><button class="btn btn-info">CONTROL-0</button></a>
  </div>
</div>

<div class="fadeMe" id="outer-CONTROL0_STATUS">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Don't forget to flag <stream id="programming">CONTROL-0</stream> as Negative (for diagnsotic findings)!
  </div>
</div>


<div class="fadeMe" id="outer-FINAL">
  <div class="inner" style="width: 80%;">
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
    Such a great job, 2
    <button class="btn btn-success">Diagnostic Findings</button>,
    1
    <button class="btn btn-primary">Secondary Findings</button>
    and 1
    <button class="btn btn-danger">Negative</button>
    sample are reviewed!
    <br>
    This guided tutorial is completed now!
    <br>
    <br>
    In order to further improve your understanding Diagnosticator let's review the rest of the samples in this page.
    <br>
    Once you're done, you can compare your results with <a href="#" target="_blank">expected results</a> accessible from the button that just compared at the bottom of this page
    <br>
    <br>
    Very <stream style="color: red;">last thing</stream>: everytime some other user will share with the server a P/LP annotation for a variant
    that you encountered in your analysis as well, you will <stream style="text-decoration: underline;">receive a notification</stream>.
    <br>
    This is intended to keep you constantly updated about possible changes in your variants interpretation
    and review them if something else comes out!
    <br>
    Try it clicking <a href="{{ url_for( 'main.fake_message' ) }}" target="_blank">
      <button class="btn btn-info">here</button>
    </a>
    <br>
    <br>
    See you on the <a href="https://diagnosticator.com" target="_blank">application</a> with your VCF files &#128536
    <br>
    <stream style="font-size: 70%;">PS: to avoid display this message again just
      <a href="{{ url_for( 'main.tutorial_completed' ) }}">
        <button class="btn btn-light" style="color: black;">click here</button>
      </a></stream>
  </div>
</div>



<div class="fadeMe" id="outer-MESSAGE">
  <div class="inner" >
    <span id='close' onclick='this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode); return false;'>X</span>
      Don't forget to have a look at the example message!
      <br>
      Try it clicking <a href="{{ url_for( 'main.fake_message' ) }}" target="_blank">here</a>
  </div>
</div>












<input type="hidden" id="TODO" name="TODO" value="{{ TODO }}">











<div style="display: inline-block; float: right; " >
  <a href="{{ url_for('main.patient_result' )}}">
    <button class="btn btn-info" style="border: 1px solid #308eff;">
      Samples Main Page
    </button>
  </a>
  <a href="{{ url_for('main.gene_result' )}}">
    <button class="btn btn-info" style="border: 1px solid #308eff; ">
      Gene Main Page
    </button>
  </a>
</div>


<div style="text-align: center; margin-top: 5%; max-width: 100%;">
  <stream style="font-size: 130%; font-weight: bold;">Samples</stream>

  <table class="table table-hover" >

      <thead class="thead-dark">
      <tr style="background-color: black; color: white;" >
          <th class="ui-helper-center">
              index
          </th>
          <th class="ui-helper-center">
              ID
          </th>
          <th class="ui-helper-center">
              known P/LP
          </th>
          <th class="ui-helper-center">
              P/LP variants
          </th>
          <th class="ui-helper-center">
              tot variants
          </th>
        </thead>

        <tbody>
          {% for sample_name, sample_dict in sampleHTMLdict.items() %}
          <tr class="{{ sample_dict['status'] }}">
            <td class="ui-helper-center">
                {{ loop.index }}
            </td>
            <td class="ui-helper-center">
              <a href="{{ url_for('main.patient_page', sample_name = sample_name ) }}" >
                <button class="btn btn-info" id="{{ sample_name }}_BUTTON" style="border: 1px solid #308eff; width: 110%; white-space: normal;">
                  {{ sample_name }}
                </button>
              </a>
            </td>
            <td class="ui-helper-center">
                {{ sample_dict[ 'kN' ] }}
            </td>
            <td class="ui-helper-center">
                {{ sample_dict[ 'pN' ] }}
            </td>
            <td class="ui-helper-center">
                {{ sample_dict[ 'varN' ] }}
            </td>
          </tr>
          {% endfor %}
        </tbody>

  </table>


</div>


<div style="border: 0px solid red; text-align: center; margin-top: 10%;">

  <div id="tutorial-results-button" style="text-align: center; display: inline-block;">
    <a href="{{ url_for('main.expected_results' )}}">
      <button class="btn btn-success" id="tutorial-results">Expected Results</button>
    </a>
  </div>

  <div id="tutorial-restore-button" style="text-align: center; display: inline-block; margin-left: 5%;">
    <a href="{{ url_for('main.tutorial_restore' )}}">
      <button class="btn btn-primary" id="tutorial-restore">Restart Tutorial</button>
    </a>
  </div>

</div>


<script type="text/javascript">


  window.onload = function(){
      document.getElementById('close').onclick = function(){
          this.parentNode.parentNode.parentNode
          .removeChild(this.parentNode.parentNode);
          return false;
      };
  };


  var TODO_seen = document.getElementById("TODO").value;


  if ( TODO_seen == "CASE0_page" ) {
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CASE-0_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CASE0_status" || TODO_seen == "X_107866056_G_C_page" || TODO_seen == "X_107866056_G_C_status" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CASE-0_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CASE1_page" || TODO_seen == "chr5_94833131_G_A_page" || TODO_seen == "chr16_2149869_CAG_C_page" || TODO_seen == "chr16_2149869_CAG_C_ACMG_page" || TODO_seen == "chr16_2149869_CAG_C_status" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CASE-1_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CASE1_status" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CASE-1_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CASE3_page" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CASE-3_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CASE3_status" || TODO_seen == "chr13_32971124_CTG_C_page" || TODO_seen == "chr13_32971124_CTG_C_page" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CASE-3_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CONTROL0_page" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CONTROL-0_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "CONTROL0_status" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('tutorial-results-button').setAttribute("style", "display: none");
    document.getElementById('CONTROL-0_BUTTON').setAttribute("style", "border: 1px solid #308eff; width: 110%; white-space: normal; animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite;");
  }
  else if ( TODO_seen == "message_seen" ) {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('tutorial-results').setAttribute("style", "animation-name: increase; animation-duration: 1s; animation-iteration-count: infinite; background-color: #4CAF50;");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    // document.getElementById('outer-MESSAGE').setAttribute("style", "display: none;");
  }
  else {
    document.getElementById('outer-CASE0').setAttribute("style", "display: none");
    document.getElementById('outer-CASE0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1').setAttribute("style", "display: none");
    document.getElementById('outer-CASE1_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3').setAttribute("style", "display: none");
    document.getElementById('outer-CASE3_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0').setAttribute("style", "display: none");
    document.getElementById('outer-CONTROL0_STATUS').setAttribute("style", "display: none");
    document.getElementById('outer-FINAL').setAttribute("style", "display: none");
    document.getElementById('outer-MESSAGE').setAttribute("style", "display: none;");
  };

</script>


{% endblock %}
